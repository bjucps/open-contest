# OpenContest
OpenContest is an open-source programming contest management system written in
Python, using Docker technology. It allows judges to write problems and contest
participants to submit solutions to those problems. 

## Features

* OpenContest tests contestant submissions automatically, using one or more data
  sets. If a submission is correct, or has a compile error, or exceeds the
  allowed time limits, the contestant is automatically notified of the result
  with no judge intervention. If the submission has incorrect output, the submission
  is placed into a judging queue for manual review by judges to determine an appropriate
  response. 
  
* When checking the output, the system ignores whitespace at the ends of lines and at the
  end of the output.

* The system allows per-problem time limits to be specified. Also, a system-wide maximum
  allowed output length limit is configurable.

* Multiple judges may participate in reviewing contestant submissions. The system
  handles scenarios where multiple judges attempt to check out the same submission from the
  submission queue for judging.

## Quick Start for Ubuntu 18.04

Execute the following to install Docker:
```
sudo apt install docker.io
```

Execute the following to add the current user to the docker group
so that docker commands can be executed without using sudo:
```
sudo usermod -a -G docker $USER
```

Logout, then login to make the change take effect. Then, install the open-contest docker image:

```
$> docker pull bjucps/open-contest
Using default tag: latest
latest: Pulling from bjucps/open-contest
Digest: sha256:9f65996f196f8780956cd08b9ed53d84f4e26c5e8456fe50c6487e8a5f316948
Status: Image is up to date for bjucps/open-contest:latest
```

Finally, download the launch script and use it to start the contest server:

```
$> wget https://raw.githubusercontent.com/bjucps/open-contest/master/launch.sh
$> wget https://raw.githubusercontent.com/bjucps/open-contest/master/open-contest.config
$> bash launch.sh
```

The launch script will create a folder for the contest database in your home directory named
**db** and start the open contest server. Open the db/open-contest.log file to view the 
Admin username and password to use to login. Navigate to [localhost](http://localhost),
enter `Admin` as the username and enter the password generated by OpenContest.

If desired, copy open-contest.config from the github project into the db folder and edit
configuration settings there.

Use the web interface to create problems, a contest to hold them, and users to participate

## Detailed Usage
OpenContest runs inside a Docker container and starts other containers on the host machine to run submissions. 

To setup OpenContest, you begin by creating problems (see "How to Create a Problem" below).
Then, you create one or more contests and configure them to use the problems you have created.

## How to Create a Problem
To create a problem, follow these steps:
1. Log in to OpenContest at localhost:8000 with the username and password provided when you started the server.
2. Choose *Setup* in the menu.
3. Choose *Problems*.
4. Click *Create Problem*.
5. Enter the details of the problem. You may use Markdown formatting for the Problem Statement, Input Format, Output Format, and Constraints.  
    **Note**: The Description is the text shown under the problem title in the list of all problems.
6. After saving the problem details, create test data.
    - Click *Create Test Data*
    - Enter input and output data
    - Click *Add Test Data*.
7. After creating the test data, set the number of sample cases and save the problem.

## How to Create a Contest
OpenContest allows you to create multiple contests that run at different times. The most common use case for this feature is to allow for a practice round before an actual contest. To create a contest, go to Setup > Contest > Create Contest and enter the contest details. Here are some of the details:
* Contest Info Blocks: Set this to Off if you will distribute the contest problems on paper and
  do not want to clutter the contestant problem view with details problem descriptions, etc.
* 

After creating the contest, you can choose problems to go into the contest.

Before the contest begins, the home page will show a countdown to the beginning of the contest.

During the contest, the home page will show a list of problems in the contest.

After the contest ends, the final leaderboard for the most recent contest will be visible.

## How To Print a Problem
OpenContest formats problems for printing so that you can print and distribute problem statement packets to contestants. To print a problem, go to the edit page for the problem, click *View Problem*, and print the page with Ctrl+P.
![](https://contests-dev.bjucps.com/images/printproblem.png)

## How To Print the User Login Information
From the user list page, you can print the page with Ctrl+P for a list of usernames and passwords. You can then cut the paper and deliver these sheets to the contestants.
![](https://contests-dev.bjucps.com/images/printusers.png)

## Development Information
To set up a development environment, view [README-devsetup.md](README-devsetup.md).
